!function(){var a,b,c,d=[].slice;c=function(a,b){var c,e,f,g,h,i,j,k,l,m,n;return j=("undefined"!=typeof navigator&&null!==navigator?null!=(n=navigator.userAgent)?n.toLowerCase().indexOf("chrome"):void 0:void 0)>-1,h=function(a){return a},l=function(a){return a.length>0},f=function(a,b,c){var d,e,f;for(e=0,f=a.length;f>e;e++)d=a[e],b=c(b,d);return b},k=function(b){return b instanceof a.Property},g=0,i=1,e=a.Model=a.$.Model=function(b){var d,f,h,j,k;return f=new a.Bus,j=new a.Bus,k=f.scan({initial:!0},function(a,b){var c,d,e;return e=a.value,d=b.source,c=b.f,{source:d,value:c(e)}}).changes().merge(j).toProperty(),d=k.map(".value").skipDuplicates(),h=0,d.id=i++,d.addSyncSource=function(a){return j.plug(a.filter(function(a){var b;return null==a.modCount&&(a.modCount=++g),b=a.modCount>h,h=a.modCount,b}))},d.apply=function(a){return f.plug(a.map(function(b){return{source:a,f:b}})),k.changes().filter(function(b){return b.source!==a}).map(function(a){return a.value})},d.addSource=function(a){return d.apply(a.map(function(a){return function(){return a}}))},d.modify=function(b){return d.apply(a.once(b))},d.set=function(a){return d.modify(function(){return a})},d.syncEvents=function(){return k.toEventStream()},d.bind=function(a){return this.addSyncSource(a.syncEvents()),a.addSyncSource(this.syncEvents())},d.onValue(),null!=b&&d.set(b),d.lens=function(a){var b,f;return a=c(a),b=e(),f=c.objectLens("value"),this.addSyncSource(d.sampledBy(b.syncEvents(),function(b,c){return f.set(c,a.set(b,c.value))})),b.addSyncSource(this.syncEvents().map(function(b){return f.set(b,a.get(b.value))})),b},d},e.combine=function(a){var b,d,f,g,h,i;if("object"!=typeof a)return e(a);if(k(a))return a;b=a instanceof Array?[]:{},h=e(b);for(d in a)i=a[d],f=c.objectLens(d),g=h.lens(f),g.bind(e.combine(i));return h},a.Binding=a.$.Binding=function(b){var c,d,e,f,g,h,i;return g=b.initValue,f=b.get,d=b.events,i=b.set,h=d.map(f),null!=g?i(g):g=f(),c=a.Model(g),e=c.addSource(h),e.assign(i),c},c=a.Lens=a.$.Lens=function(a){return"object"==typeof a?a:c.objectLens(a)},c.id=c({get:function(a){return a},set:function(a,b){return b}}),c.objectLens=function(a){var b,d;return d=function(a){return c({get:function(b){return b[a]},set:function(b,c){return b=m(b),b[a]=c,b}})},b=a.split(".").filter(l),c.compose.apply(c,b.map(d))},c.compose=function(){var a,b;return a=1<=arguments.length?d.call(arguments,0):[],b=function(a,b){return c({get:function(c){return b.get(a.get(c))},set:function(c,d){var e,f;return e=a.get(c),f=b.set(e,d),a.set(c,f)}})},f(a,c.id,b)},m=function(a){var b,c,d;b=a instanceof Array?[]:{};for(c in a)d=a[c],b[c]=d;return b},b.fn.asEventStream=a.$.asEventStream,a.$.textFieldValue=function(b,c){var d,e,f;return l=function(a){return a.length>0},f=function(){return b.val()},d=function(){return"password"===b.attr("type")?a.interval(100):j?a.interval(100).take(20).map(f).filter(l).take(1):a.never()},e=b.asEventStream("keyup input").merge(b.asEventStream("cut paste").delay(1)).merge(d()),a.Binding({initValue:c,get:f,events:e,set:function(a){return b.val(a)}})},a.$.checkBoxValue=function(b,c){return a.Binding({initValue:c,get:function(){return!!b.attr("checked")},events:b.asEventStream("change"),set:function(a){return b.attr("checked",a)}})},a.$.selectValue=function(b,c){return a.Binding({initValue:c,get:function(){return b.val()},events:b.asEventStream("change"),set:function(a){return b.val(a)}})},a.$.radioGroupValue=function(c,d){return a.Binding({initValue:d,get:function(){return c.filter(":checked").first().val()},events:c.asEventStream("change"),set:function(a){return c.each(function(c,d){return d.value===a?b(d).attr("checked",!0):b(d).removeAttr("checked")})}})},a.$.checkBoxGroupValue=function(c,d){return a.Binding({initValue:d,get:function(){var a;return a=function(){return c.filter(":checked").map(function(a,c){return b(c).val()}).toArray()}},events:c.asEventStream("click,change"),set:function(a){return c.each(function(c,d){return b(d).attr("checked",a.indexOf(b(d).val())>=0)})}})},a.$},"undefined"!=typeof module&&null!==module?(b=require("baconjs"),a=require("jquery"),module.exports=c(b,a)):"function"==typeof require?define("bacon-jquery-bindings",["bacon","jquery"],c):c(this.Bacon,this.$)}.call(this);